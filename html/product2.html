<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main.css">
    <script src="script.js"></script>
    <script src="product_scrpt.js"></script>
    <link rel="icon" type="image/png" sizes="14x22" href="Screenshot 2025-08-12 142558.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playwrite+AU+QLD:wght@100..400&display=swap" rel="stylesheet">
    <title>Orion Crystals</title>
</head>
<body>
    <div class="header" style="display: flex; align-items: center; justify-content: center; gap: 24px; position: relative;">
    <div class="dropdown" style="position: absolute; left: 0;">
      <div class="menu-icon" onclick="toggleDropdown(this)">
        <span></span>
        <span></span>
        <span></span>
      </div>
      <div class="dropdown-content" id="dropdownMenu">
         <a href="index.html">Home</a>
          <a href="products.html">Products</a>
          <a href="constructor.html">Constructor</a>
          <a href="about_us.html">About Us</a>
      </div>
    </div>
        <h1 class="header-text" style="margin: 0;">Orion Crystals</h1>
        <div class="login-mini-banner" style="position: absolute; right: 0; top: 50%; transform: translateY(-50%); display: flex; align-items: center; gap: 18px;">
  <a href="checkout.html" class="cart-icon-container" title="View Cart" style="display: flex; align-items: center; background: #fff; border-radius: 50%; padding: 6px; box-shadow: 0 2px 8px rgba(0,0,0,0.10); margin-right: 8px;">
    <svg width="28" height="28" viewBox="0 0 24 24" fill="none">
      <circle cx="9" cy="21" r="1.5" fill="#111"/>
      <circle cx="17" cy="21" r="1.5" fill="#111"/>
      <path d="M3 3h2l.4 2M7 13h10l4-8H5.4" stroke="#111" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </a>
  <a href="login.html" class="login-icon-container">
    <div class="login-icon">
      <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="20" cy="14" r="7" fill="#fafafa" stroke="#111" stroke-width="2"/>
        <rect x="8" y="26" width="24" height="10" rx="8" fill="#111" stroke="#fafafa" stroke-width="2"/>
      </svg>
    </div>
  </a>
</div>
    </div>
    <div class="product-detail-container">
    <div
     class="product-detail-left">
      <img src="ChatGPT Image 2025. aug. 12. 10_58_19.png" alt="Crystal Amethyst" class="product-detail-img">
    </div>
    <div class="product-detail-right">
      <div class="product-detail-desc2">Clear Quartz is prized for its clarity and energy amplification. A must-have for any crystal lover.</div>
      <h2 class="product-detail-title2">Smetilla Bracelet</h2>

      <!-- SIZE SELECTOR (modern) -->
      <label class="size-label" for="size-select" style="display:block;margin:8px 0 6px;font-weight:600;">Size (cm)</label>
      <div class="size-select-wrap">
        <select id="size-select" class="size-select" aria-label="Choose bracelet size">
          <option value="" disabled selected>Choose size</option>
          <!-- JS will populate 16..23 if needed, but include options for immediate use -->
          <option value="16">16 cm</option>
          <option value="17">17 cm</option>
          <option value="18">18 cm</option>
          <option value="19">19 cm</option>
          <option value="20">20 cm</option>
          <option value="21">21 cm</option>
          <option value="22">22 cm</option>
          <option value="23">23 cm</option>
        </select>
      </div>

      <div class="product-detail-price">3 880 HUF</div>
      <div class="product-detail-quantity">
        <button class="qty-btn" onclick="decreaseQty()">-</button>
        <span id="qty-value">1</span>
        <button class="qty-btn" onclick="increaseQty()">+</button>
      </div>
      <!-- Add to Cart Button -->
<button class="buy-btn" onclick="addToCheckout()">Add to Cart</button>
<div class="product-detail-badge">
  <span class="banner-text">  LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE!  LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE! LAST PIECE!</span>
</div>
<!-- Popup Modal (place near end of <body>) -->
<div id="cart-popup" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.35); z-index:999; align-items:center; justify-content:center;">
  <div style="background:#fff; color:#111; border-radius:16px; padding:32px 40px; box-shadow:0 8px 32px rgba(44,62,80,0.18); text-align:center;">
    <div style="font-size:1.3em; margin-bottom:18px;">Item added to cart!</div>
    <button class="cart-popup-btn" id="stay-shopping-btn">Stay shopping</button>
    <button class="cart-popup-btn" id="go-checkout-btn">Go to checkout</button>
  </div>
</div>
    </div>
  </div>
  <script>
/* ...existing code (other scripts loaded earlier) ... */

/* Quantity helpers */
function decreaseQty(){
  var el = document.getElementById('qty-value');
  var v = parseInt(el.textContent) || 1;
  if (v > 1) v--;
  el.textContent = v;
}
function increaseQty(){
  var el = document.getElementById('qty-value');
  var v = parseInt(el.textContent) || 1;
  v++;
  el.textContent = v;
}

/* Add to cart with size support */
function addToCheckout() {
  // product title (use product-detail-title2 specifically)
  var name = document.querySelector('.product-detail-title2')?.textContent?.trim() || 'Bracelet';
  var priceText = document.querySelector('.product-detail-price')?.textContent || '0 HUF';
  var price = parseInt(priceText.replace(/[^\d]/g, '')) || 0;
  var img = document.querySelector('.product-detail-img')?.getAttribute('src') || '';
  var qty = parseInt(document.getElementById('qty-value')?.textContent) || 1;

  // read selected size
  var sizeEl = document.getElementById('size-select');
  var size = sizeEl ? sizeEl.value : '';
  if (!size) {
    // notify user to pick size
    sizeEl.focus();
    sizeEl.classList.add('size-select-error');
    setTimeout(function(){ sizeEl.classList.remove('size-select-error'); }, 900);
    return;
  }

  // build cart and keep items unique by name+size
  var cart = JSON.parse(localStorage.getItem('checkoutCart') || '[]');
  var idx = cart.findIndex(function(item){
    return item.name === name && String(item.size) === String(size);
  });
  if (idx >= 0) {
    cart[idx].qty = (cart[idx].qty || 0) + qty;
  } else {
    cart.push({ id: 'product2', name: name, price: price, img: img, qty: qty, size: size });
  }
  localStorage.setItem('checkoutCart', JSON.stringify(cart));

  // show popup
  var popup = document.getElementById('cart-popup');
  if (popup) popup.style.display = 'flex';
}

/* popup buttons */
document.addEventListener('DOMContentLoaded', function() {
  var stay = document.getElementById('stay-shopping-btn');
  var go = document.getElementById('go-checkout-btn');
  if (stay) stay.onclick = function(){ document.getElementById('cart-popup').style.display = 'none'; };
  if (go) go.onclick = function(){ window.location.href = 'checkout.html'; };

  // ensure size-select exists; if JS filler needed (optional)
  var sel = document.getElementById('size-select');
  if (sel && sel.children.length <= 1) {
    for (var s = 16; s <= 23; s++){
      var o = document.createElement('option');
      o.value = String(s);
      o.textContent = s + ' cm';
      sel.appendChild(o);
    }
  }
});
  </script>
  <footer class="footer" style="display: flex; align-items: center; justify-content: center; gap: 18px;">
        <p style="margin: 0;">&copy; 2025 Orion Crystals. All rights reserved.</p>
        <span style="margin-left: 24px; font-weight: 500;">We support</span>
        <img src="https://www.paypalobjects.com/webstatic/icon/pp258.png" alt="PayPal" style="height: 28px; margin-left: 8px;">
        <img src="https://simplepay.hu/wp-content/themes/simplepay_new/images/logo-color2.svg" alt="SimplePay" style="height: 28px; margin-left: 8px;">
    </footer>
</body>
</html>
